[smart_terrains]
none = true

[logic]
active = {-verka_dialog_1_done} walker@1, {+verka_dialog_1_done -haron_dialog_3_done} walker@2, {+haron_dialog_3_done} walker@vyhod1
danger = danger_condition
combat_ignore = combat_ignore
on_hit = hit
on_death = death

[hit]
on_info = {=hit_by_actor} %+wound_verka%

[death]
on_info = %+kill_verka =boryan67.del_haronchik%

[walker@1]
path_walk = verka_walk
path_look = verka_look
danger = danger_condition
meet = no_meet
on_actor_dist_le_nvis = 3 | {-verka_dialog_1_done} remark@1

[remark@1]
target = actor
danger = danger_condition
snd = verka_hello
meet = no_meet
on_signal = sound_end | {-verka_dialog_1_done} remark@2

[remark@2]
target = actor
danger = danger_condition
meet = meet
on_info = {+verka_dialog_1_done} walker@2

[walker@2]
path_walk = verka1_walk
path_look = verka1_look
danger = danger_condition
meet = no_meet
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
on_signal = verka1 | {-haron_dialog_3_done} walker@3 %+verka_na_meste%

[walker@3]
path_walk = verka1_walk
path_look = verka1_look
danger = danger_condition
meet = meet
on_info = {+haron_dialog_3_done} walker@wait

[walker@wait]
path_walk = verka1_walk
path_look = verka1_look
danger = danger_condition
meet = no_meet
on_timer = 6000 | walker@vyhod1

[walker@vyhod1] 
path_walk = verka2_walk
path_look = verka2_look
meet = no_meet
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
danger = danger_condition
on_signal = verka2 |  {+haron_dialog_3_done} walker@vyhod2 

[walker@vyhod2] 
path_walk = verka3_walk
path_look = verka3_look
meet = no_meet
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
danger = danger_condition
on_signal = verka3 | %+verka_out =boryan67.del_verka%

[danger_condition]
ignore_distance = 5
ignore_distance_corpse = 0

[meet]
use = true
use_wpn = false
meet_talk_enabled = true
