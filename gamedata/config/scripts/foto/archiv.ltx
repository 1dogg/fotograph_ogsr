[smart_terrains]
none = true

[logic]
active = walker@archiv
combat_ignore = combat_ignore
on_hit = hit
on_death = death

[walker@archiv]
path_walk = archiv_walk
path_look = archiv_look
meet = no_meet
danger = danger_condition@archiv
on_actor_dist_le = 3 | {-archiv_start} remark@1,  {+archiv_start} remark@2

[remark@1]
anim = ward
target = actor
snd = paparazzi2
meet =  no_meet
combat_ignore_cond = always
danger = danger_condition@archiv
on_signal = sound_end |  remark@2

[remark@2]
anim = ward
target = actor
meet = meet@archiv
combat_ignore_cond = always
danger = danger_condition@archiv
on_actor_dist_ge_nvis = 3 | walker@archiv1
on_info = {-read_pismo +archiv_pismo} remark@3

[remark@3]
anim = probe
target = actor
snd = archiv_letter
meet = no_meet
combat_ignore_cond = always
danger = danger_condition@archiv
on_signal = sound_end | remark@2 %+read_pismo%

[walker@archiv1]
path_walk = archiv_walk
path_look = archiv_look
meet = no_meet
def_state_standing = ward
danger = danger_condition@archiv
on_actor_dist_le = 3 | remark@2

[danger_condition@archiv]
ignore_distance = 0
ignore_distance_corpse = 0

[meet@archiv]
use = true
use_wpn = false
meet_talk_enabled = true

[hit]
on_info = {=hit_by_actor} %+soldaty_enemy%

[death]
on_info = %+soldaty_enemy%