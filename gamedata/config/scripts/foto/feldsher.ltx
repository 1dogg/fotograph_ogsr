[smart_terrains]
none = true

[logic]
active = {-feldsher_mesto} camper@feldsher1, {+feldsher_mesto} camper@feldsher3
combat_ignore = combat_ignore
on_hit = hit
on_death = death

[hit]
on_info = {=hit_by_actor} %+enemy_doctor%

[death]
on_info = %+feldsher_dead%
on_info2 = {=killed_by_actor} %+enemy_doctor%

[camper@feldsher1]
path_walk = feldsher1_walk
path_look = feldsher1_look
meet = no_meet
danger = danger_condition
on_actor_dist_le_nvis = 3 | {+vasil_nach_dialog_start} remark@1
on_info = {+enemy_doctor} %=killactor%

[remark@1]
anim = ward
target = actor
snd = feldsher_hello
meet = no_meet
combat_ignore_cond = always
danger = danger_condition
on_signal = sound_end | camper@feldsher11
on_info = {+enemy_doctor} %=killactor%

[camper@feldsher11]
path_walk = feldsher1_walk
path_look = feldsher1_look
meet = meet
danger = danger_condition
on_info = {+feldsher_start_dialog_start} camper@feldsher2
on_info2 = {+enemy_doctor} %=killactor%

[camper@feldsher2]
path_walk = feldsher2_walk
path_look = feldsher2_look
meet = no_meet
danger = danger_condition
on_signal = feld | camper@feldsher3 %+feldsher_mesto%
on_info = {+enemy_doctor} %=killactor%

[camper@feldsher3]
path_walk = feldsher2_walk
path_look = feldsher2_look
meet = meet
def_state_standing = ward
danger = danger_condition
on_timer = 24000 | camper@feldsher4
on_info = {+enemy_doctor} %=killactor%

[camper@feldsher4]
path_walk = feldsher2_walk
path_look = feldsher2_look
meet = meet
def_state_standing = caution
danger = danger_condition
on_timer = 18000 | camper@feldsher5
on_info = {+enemy_doctor} %=killactor%

[camper@feldsher5]
path_walk = feldsher2_walk
path_look = feldsher2_look
meet = no_meet
def_state_standing = press
danger = danger_condition
on_timer = 2000 | camper@feldsher6
on_info = {+enemy_doctor} %=killactor%

[camper@feldsher6]
path_walk = feldsher2_walk
path_look = feldsher2_look
meet = meet
def_state_standing = sit
danger = danger_condition
on_timer = 18000 | camper@feldsher3
on_info = {+enemy_doctor} %=killactor%

[danger_condition]
ignore_distance = 0
ignore_distance_corpse = 0

[meet]
use = true
use_wpn = false
meet_talk_enabled = true
