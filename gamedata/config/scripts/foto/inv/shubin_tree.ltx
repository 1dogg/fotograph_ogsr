[smart_terrains]
none = true

[logic]
active = remark@1
combat_ignore = combat_ignore
danger = danger_condition
on_hit = hit
on_death = death

[hit]
on_info = {=hit_by_actor} %+tree_enemy%

[death]
on_info = {=killed_by_actor} %+tree_enemy%

[remark@1]
target = actor
meet = no_meet
combat_ignore_cond = always
danger = danger_condition
on_actor_dist_le = 2.5 | remark@3
on_actor_dist_ge_nvis = 35 | remark@2 %=fotograf.kill_actor%
on_info = {+tree_enemy} remark@2 %=killactor%

[remark@2]
target = actor
meet = no_meet
combat_ignore_cond = always
danger = danger_condition
on_actor_dist_ge_nvis = 35 | remark@2 %=fotograf.kill_actor%

[remark@3]
anim = hello
target = actor
meet = no_meet
snd = shubin_elka_hello
combat_ignore_cond = always
danger = danger_condition
on_signal = sound_end | remark@4
on_info = {+tree_enemy} remark@2 %=killactor%
on_actor_dist_ge_nvis = 35 | remark@2 %=fotograf.kill_actor%

[remark@4]
target = actor
meet = meet
combat_ignore_cond = always
danger = danger_condition
on_info = {+shubin_bluetree_dialog_start} remark@5 
on_info2 = {+tree_enemy} remark@2 %=killactor%
on_actor_dist_ge_nvis = 35 | remark@2 %=fotograf.kill_actor%

[remark@5]
target = actor
meet = meet
combat_ignore_cond = always
danger = danger_condition
on_timer = 500 | remark@6
on_info = {+tree_enemy} remark@2 %=killactor%
on_actor_dist_ge_nvis = 35 | remark@2 %=fotograf.kill_actor%

[remark@6]
target = actor
meet = no_meet
snd = shubin_final_replika
combat_ignore_cond = always
danger = danger_condition
on_signal = sound_end | remark@7
on_info = {+tree_enemy} remark@2 %=killactor%
on_actor_dist_ge_nvis = 35 | remark@2 %=fotograf.kill_actor%

[remark@7]
target = actor
meet = no_meet
combat_ignore_cond = always
danger = danger_condition
on_timer = 1000 | remark@8 %=play_snd(ambient\new\actor_yura)%
on_info = {+tree_enemy} remark@2 %=killactor%
on_actor_dist_ge_nvis = 35 | remark@2 %=fotograf.kill_actor%

[remark@8]
target = actor
meet = no_meet
combat_ignore_cond = always
danger = danger_condition
on_info = {+tree_enemy} remark@2 %=killactor%
on_actor_dist_ge_nvis = 35 | {+shubin_bluetree_dialog_soglasie} remark@2 %=fotograf.kill_actor%, {+shubin_bluetree_dialog_otkaz} remark@9 %+shubin_bluetree_dialog_done =amk_mod.start_blow_timer%
on_timer = 90000 | {-actor_molodets} remark@9 %+shubin_bluetree_dialog_done =amk_mod.start_blow_timer% 

[remark@9]
target = actor
meet = no_meet
combat_ignore_cond = always
danger = danger_condition
on_info = {+tree_enemy} remark@2 %=killactor%   

[danger_condition]
ignore_distance = 0
ignore_distance_corpse = 0

